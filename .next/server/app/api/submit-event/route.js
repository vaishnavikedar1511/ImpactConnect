"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/submit-event/route";
exports.ids = ["app/api/submit-event/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-event%2Froute&page=%2Fapi%2Fsubmit-event%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-event%2Froute.ts&appDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-event%2Froute&page=%2Fapi%2Fsubmit-event%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-event%2Froute.ts&appDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_vaishnavi_kedar_Documents_ImpactConnect_src_app_api_submit_event_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/submit-event/route.ts */ \"(rsc)/./src/app/api/submit-event/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/submit-event/route\",\n        pathname: \"/api/submit-event\",\n        filename: \"route\",\n        bundlePath: \"app/api/submit-event/route\"\n    },\n    resolvedPagePath: \"/Users/vaishnavi.kedar/Documents/ImpactConnect/src/app/api/submit-event/route.ts\",\n    nextConfigOutput,\n    userland: _Users_vaishnavi_kedar_Documents_ImpactConnect_src_app_api_submit_event_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/submit-event/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdWJtaXQtZXZlbnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN1Ym1pdC1ldmVudCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN1Ym1pdC1ldmVudCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnZhaXNobmF2aS5rZWRhciUyRkRvY3VtZW50cyUyRkltcGFjdENvbm5lY3QlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGdmFpc2huYXZpLmtlZGFyJTJGRG9jdW1lbnRzJTJGSW1wYWN0Q29ubmVjdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0M7QUFDN0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbXBhY3QtY29ubmVjdC8/ODc5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdmFpc2huYXZpLmtlZGFyL0RvY3VtZW50cy9JbXBhY3RDb25uZWN0L3NyYy9hcHAvYXBpL3N1Ym1pdC1ldmVudC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3VibWl0LWV2ZW50L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3VibWl0LWV2ZW50XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zdWJtaXQtZXZlbnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdmFpc2huYXZpLmtlZGFyL0RvY3VtZW50cy9JbXBhY3RDb25uZWN0L3NyYy9hcHAvYXBpL3N1Ym1pdC1ldmVudC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc3VibWl0LWV2ZW50L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-event%2Froute&page=%2Fapi%2Fsubmit-event%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-event%2Froute.ts&appDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/submit-event/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/submit-event/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/**\n * Submit Event API Route\n * Sends event data to Contentstack Automate webhook for admin approval\n */ \n/**\n * Validate email format\n */ function isValidEmail(email) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n}\n/**\n * Sanitize string input\n */ function sanitize(value) {\n    if (!value) return \"\";\n    return value.trim().slice(0, 1000);\n}\n/**\n * Generate a unique submission ID\n */ function generateSubmissionId() {\n    const timestamp = Date.now().toString(36);\n    const random = Math.random().toString(36).slice(2, 8);\n    return `EVT-${timestamp}-${random}`.toUpperCase();\n}\n/**\n * Generate URL-friendly slug\n */ function generateSlug(title) {\n    return title.toLowerCase().trim().replace(/[^\\w\\s-]/g, \"\").replace(/\\s+/g, \"-\").replace(/-+/g, \"-\").substring(0, 80) + \"-\" + Date.now().toString(36);\n}\n/**\n * POST /api/submit-event\n * Sends event data to Contentstack Automate for approval\n */ async function POST(request) {\n    try {\n        // Parse request body\n        let body;\n        try {\n            body = await request.json();\n            console.log(\"[SubmitEvent] Received body:\", {\n                title: body.title,\n                summaryLength: body.summary?.length,\n                country: body.country,\n                city: body.city,\n                causes: body.causes,\n                contributionTypes: body.contributionTypes,\n                startDate: body.startDate,\n                organizerEmail: body.organizerEmail,\n                isVirtual: body.isVirtual\n            });\n        } catch (e) {\n            console.log(\"[SubmitEvent] JSON parse error:\", e);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid JSON in request body\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate required fields\n        const errors = [];\n        if (!body.title || body.title.length < 5) {\n            errors.push(\"Title must be at least 5 characters\");\n        }\n        if (!body.summary || body.summary.length < 20) {\n            errors.push(\"Summary must be at least 20 characters\");\n        }\n        if (!body.organizerEmail || !isValidEmail(body.organizerEmail)) {\n            errors.push(\"Valid organizer email is required\");\n        }\n        if (!body.startDate) {\n            errors.push(\"Start date is required\");\n        }\n        // Location validation (not required for virtual events)\n        if (!body.isVirtual) {\n            if (!body.country) {\n                errors.push(\"Country is required for non-virtual events\");\n            }\n            if (!body.city) {\n                errors.push(\"City is required for non-virtual events\");\n            }\n        }\n        if (!body.contributionTypes || body.contributionTypes.length === 0) {\n            errors.push(\"At least one contribution type is required\");\n        }\n        if (!body.causes || body.causes.length === 0) {\n            errors.push(\"At least one cause is required\");\n        }\n        if (errors.length > 0) {\n            console.log(\"[SubmitEvent] Validation failed:\", errors);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Validation failed\",\n                details: errors\n            }, {\n                status: 400\n            });\n        }\n        // Generate IDs\n        const submissionId = generateSubmissionId();\n        const slug = generateSlug(body.title);\n        // Get webhook URL from environment\n        const webhookUrl = process.env.CONTENTSTACK_AUTOMATE_EVENT_WEBHOOK;\n        if (!webhookUrl) {\n            console.error(\"[SubmitEvent] CONTENTSTACK_AUTOMATE_EVENT_WEBHOOK not configured\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Event submission is not configured\"\n            }, {\n                status: 500\n            });\n        }\n        // Build formatted location string for email\n        let formattedLocation = \"Virtual / Online\";\n        if (!body.isVirtual) {\n            const locationParts = [\n                sanitize(body.city),\n                sanitize(body.state),\n                sanitize(body.country)\n            ].filter(Boolean);\n            formattedLocation = locationParts.length > 0 ? locationParts.join(\", \") : \"Location not specified\";\n        }\n        // Prepare payload for Automate (matches Opportunity content type)\n        const payload = {\n            submissionId,\n            slug,\n            title: sanitize(body.title),\n            summary: sanitize(body.summary),\n            description: sanitize(body.description),\n            // Cover Image\n            coverImageUid: body.coverImageUid || \"\",\n            coverImageUrl: body.coverImageUrl || \"\",\n            // Location fields (individual)\n            country: sanitize(body.country),\n            state: sanitize(body.state),\n            city: sanitize(body.city),\n            address: sanitize(body.address),\n            isVirtual: body.isVirtual || false,\n            // Formatted location for email\n            location: formattedLocation,\n            // Categories\n            contributionTypes: body.contributionTypes,\n            causeSlugs: body.causes,\n            // Date & Time\n            startDate: body.startDate,\n            endDate: body.endDate || body.startDate,\n            startTime: body.startTime || \"\",\n            endTime: body.endTime || \"\",\n            // Organizer\n            organizerEmail: sanitize(body.organizerEmail).toLowerCase(),\n            organizerName: sanitize(body.organizerName) || \"Community Member\",\n            // Other\n            spotsAvailable: body.spotsAvailable || null,\n            requirements: sanitize(body.requirements),\n            // Metadata\n            submittedAt: new Date().toISOString()\n        };\n        // Encode event data for approval URLs\n        const eventDataEncoded = Buffer.from(JSON.stringify(payload)).toString(\"base64\");\n        const baseUrl = \"http://localhost:3000\" || 0;\n        // Add approval URLs with encoded data\n        payload.approveUrl = `${baseUrl}/api/approve-event?action=approve&data=${encodeURIComponent(eventDataEncoded)}`;\n        payload.rejectUrl = `${baseUrl}/api/approve-event?action=reject&data=${encodeURIComponent(eventDataEncoded)}`;\n        console.log(\"[SubmitEvent] Sending to Automate:\", {\n            submissionId,\n            title: payload.title,\n            city: payload.city,\n            country: payload.country,\n            organizerEmail: payload.organizerEmail\n        });\n        // Send to Contentstack Automate webhook\n        const response = await fetch(webhookUrl, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"[SubmitEvent] Automate webhook failed:\", errorText);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Failed to submit event for review\"\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"[SubmitEvent] Successfully sent to Automate:\", submissionId);\n        // Return success\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Event submitted for review! You will receive an email once approved.\",\n            data: {\n                submissionId,\n                title: payload.title,\n                organizerEmail: payload.organizerEmail,\n                submittedAt: payload.submittedAt\n            }\n        });\n    } catch (error) {\n        console.error(\"[SubmitEvent] Unexpected error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"An unexpected error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * GET /api/submit-event\n */ async function GET() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"Method not allowed. Use POST to submit an event.\"\n    }, {\n        status: 405\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zdWJtaXQtZXZlbnQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7OztDQUdDLEdBRXVEO0FBa0N4RDs7Q0FFQyxHQUNELFNBQVNDLGFBQWFDLEtBQWE7SUFDakMsT0FBTyw2QkFBNkJDLElBQUksQ0FBQ0Q7QUFDM0M7QUFFQTs7Q0FFQyxHQUNELFNBQVNFLFNBQVNDLEtBQXlCO0lBQ3pDLElBQUksQ0FBQ0EsT0FBTyxPQUFPO0lBQ25CLE9BQU9BLE1BQU1DLElBQUksR0FBR0MsS0FBSyxDQUFDLEdBQUc7QUFDL0I7QUFFQTs7Q0FFQyxHQUNELFNBQVNDO0lBQ1AsTUFBTUMsWUFBWUMsS0FBS0MsR0FBRyxHQUFHQyxRQUFRLENBQUM7SUFDdEMsTUFBTUMsU0FBU0MsS0FBS0QsTUFBTSxHQUFHRCxRQUFRLENBQUMsSUFBSUwsS0FBSyxDQUFDLEdBQUc7SUFDbkQsT0FBTyxDQUFDLElBQUksRUFBRUUsVUFBVSxDQUFDLEVBQUVJLE9BQU8sQ0FBQyxDQUFDRSxXQUFXO0FBQ2pEO0FBRUE7O0NBRUMsR0FDRCxTQUFTQyxhQUFhQyxLQUFhO0lBQ2pDLE9BQU9BLE1BQ0pDLFdBQVcsR0FDWFosSUFBSSxHQUNKYSxPQUFPLENBQUMsYUFBYSxJQUNyQkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJBLE9BQU8sQ0FBQyxPQUFPLEtBQ2ZDLFNBQVMsQ0FBQyxHQUFHLE1BQ1osTUFBTVYsS0FBS0MsR0FBRyxHQUFHQyxRQUFRLENBQUM7QUFDaEM7QUFFQTs7O0NBR0MsR0FDTSxlQUFlUyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YscUJBQXFCO1FBQ3JCLElBQUlDO1FBQ0osSUFBSTtZQUNGQSxPQUFPLE1BQU1ELFFBQVFFLElBQUk7WUFDekJDLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0M7Z0JBQzFDVCxPQUFPTSxLQUFLTixLQUFLO2dCQUNqQlUsZUFBZUosS0FBS0ssT0FBTyxFQUFFQztnQkFDN0JDLFNBQVNQLEtBQUtPLE9BQU87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bUNBO1FBQ2pELE9BQU92QyxxREFBWUEsQ0FBQ3dCLElBQUksQ0FDdEI7WUFBRWMsU0FBUztZQUFPQyxPQUFPO1FBQStCLEdBQ3hEO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxlQUFla0Q7SUFDcEIsT0FBTzFGLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QjtRQUFFZSxPQUFPO0lBQW1ELEdBQzVEO1FBQUVDLFFBQVE7SUFBSTtBQUVsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ltcGFjdC1jb25uZWN0Ly4vc3JjL2FwcC9hcGkvc3VibWl0LWV2ZW50L3JvdXRlLnRzPzI3NDAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdWJtaXQgRXZlbnQgQVBJIFJvdXRlXG4gKiBTZW5kcyBldmVudCBkYXRhIHRvIENvbnRlbnRzdGFjayBBdXRvbWF0ZSB3ZWJob29rIGZvciBhZG1pbiBhcHByb3ZhbFxuICovXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbi8qKlxuICogRXZlbnQgc3VibWlzc2lvbiByZXF1ZXN0IGJvZHlcbiAqL1xuaW50ZXJmYWNlIEV2ZW50U3VibWlzc2lvbiB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHN1bW1hcnk6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLy8gQ292ZXIgSW1hZ2VcbiAgY292ZXJJbWFnZVVpZD86IHN0cmluZztcbiAgY292ZXJJbWFnZVVybD86IHN0cmluZztcbiAgLy8gTG9jYXRpb25cbiAgY291bnRyeTogc3RyaW5nO1xuICBzdGF0ZTogc3RyaW5nO1xuICBjaXR5OiBzdHJpbmc7XG4gIGFkZHJlc3M6IHN0cmluZztcbiAgaXNWaXJ0dWFsOiBib29sZWFuO1xuICAvLyBDYXRlZ29yaWVzXG4gIGNvbnRyaWJ1dGlvblR5cGVzOiBzdHJpbmdbXTtcbiAgY2F1c2VzOiBzdHJpbmdbXTtcbiAgLy8gRGF0ZSAmIFRpbWVcbiAgc3RhcnREYXRlOiBzdHJpbmc7XG4gIGVuZERhdGU/OiBzdHJpbmc7XG4gIHN0YXJ0VGltZT86IHN0cmluZztcbiAgZW5kVGltZT86IHN0cmluZztcbiAgLy8gT3JnYW5pemVyXG4gIG9yZ2FuaXplckVtYWlsOiBzdHJpbmc7XG4gIG9yZ2FuaXplck5hbWU/OiBzdHJpbmc7XG4gIC8vIE90aGVyXG4gIHNwb3RzQXZhaWxhYmxlPzogbnVtYmVyO1xuICByZXF1aXJlbWVudHM/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRFbWFpbChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLy50ZXN0KGVtYWlsKTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSBzdHJpbmcgaW5wdXRcbiAqL1xuZnVuY3Rpb24gc2FuaXRpemUodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gIGlmICghdmFsdWUpIHJldHVybiAnJztcbiAgcmV0dXJuIHZhbHVlLnRyaW0oKS5zbGljZSgwLCAxMDAwKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHVuaXF1ZSBzdWJtaXNzaW9uIElEXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlU3VibWlzc2lvbklkKCk6IHN0cmluZyB7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xuICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgcmV0dXJuIGBFVlQtJHt0aW1lc3RhbXB9LSR7cmFuZG9tfWAudG9VcHBlckNhc2UoKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBVUkwtZnJpZW5kbHkgc2x1Z1xuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVNsdWcodGl0bGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiB0aXRsZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9bXlxcd1xccy1dL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAucmVwbGFjZSgvLSsvZywgJy0nKVxuICAgIC5zdWJzdHJpbmcoMCwgODApXG4gICAgKyAnLScgKyBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTtcbn1cblxuLyoqXG4gKiBQT1NUIC9hcGkvc3VibWl0LWV2ZW50XG4gKiBTZW5kcyBldmVudCBkYXRhIHRvIENvbnRlbnRzdGFjayBBdXRvbWF0ZSBmb3IgYXBwcm92YWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBQYXJzZSByZXF1ZXN0IGJvZHlcbiAgICBsZXQgYm9keTogRXZlbnRTdWJtaXNzaW9uO1xuICAgIHRyeSB7XG4gICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnW1N1Ym1pdEV2ZW50XSBSZWNlaXZlZCBib2R5OicsIHtcbiAgICAgICAgdGl0bGU6IGJvZHkudGl0bGUsXG4gICAgICAgIHN1bW1hcnlMZW5ndGg6IGJvZHkuc3VtbWFyeT8ubGVuZ3RoLFxuICAgICAgICBjb3VudHJ5OiBib2R5LmNvdW50cnksXG4gICAgICAgIGNpdHk6IGJvZHkuY2l0eSxcbiAgICAgICAgY2F1c2VzOiBib2R5LmNhdXNlcyxcbiAgICAgICAgY29udHJpYnV0aW9uVHlwZXM6IGJvZHkuY29udHJpYnV0aW9uVHlwZXMsXG4gICAgICAgIHN0YXJ0RGF0ZTogYm9keS5zdGFydERhdGUsXG4gICAgICAgIG9yZ2FuaXplckVtYWlsOiBib2R5Lm9yZ2FuaXplckVtYWlsLFxuICAgICAgICBpc1ZpcnR1YWw6IGJvZHkuaXNWaXJ0dWFsLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tTdWJtaXRFdmVudF0gSlNPTiBwYXJzZSBlcnJvcjonLCBlKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIEpTT04gaW4gcmVxdWVzdCBib2R5JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKCFib2R5LnRpdGxlIHx8IGJvZHkudGl0bGUubGVuZ3RoIDwgNSkge1xuICAgICAgZXJyb3JzLnB1c2goJ1RpdGxlIG11c3QgYmUgYXQgbGVhc3QgNSBjaGFyYWN0ZXJzJyk7XG4gICAgfVxuICAgIGlmICghYm9keS5zdW1tYXJ5IHx8IGJvZHkuc3VtbWFyeS5sZW5ndGggPCAyMCkge1xuICAgICAgZXJyb3JzLnB1c2goJ1N1bW1hcnkgbXVzdCBiZSBhdCBsZWFzdCAyMCBjaGFyYWN0ZXJzJyk7XG4gICAgfVxuICAgIGlmICghYm9keS5vcmdhbml6ZXJFbWFpbCB8fCAhaXNWYWxpZEVtYWlsKGJvZHkub3JnYW5pemVyRW1haWwpKSB7XG4gICAgICBlcnJvcnMucHVzaCgnVmFsaWQgb3JnYW5pemVyIGVtYWlsIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIGlmICghYm9keS5zdGFydERhdGUpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdTdGFydCBkYXRlIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIC8vIExvY2F0aW9uIHZhbGlkYXRpb24gKG5vdCByZXF1aXJlZCBmb3IgdmlydHVhbCBldmVudHMpXG4gICAgaWYgKCFib2R5LmlzVmlydHVhbCkge1xuICAgICAgaWYgKCFib2R5LmNvdW50cnkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goJ0NvdW50cnkgaXMgcmVxdWlyZWQgZm9yIG5vbi12aXJ0dWFsIGV2ZW50cycpO1xuICAgICAgfVxuICAgICAgaWYgKCFib2R5LmNpdHkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goJ0NpdHkgaXMgcmVxdWlyZWQgZm9yIG5vbi12aXJ0dWFsIGV2ZW50cycpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWJvZHkuY29udHJpYnV0aW9uVHlwZXMgfHwgYm9keS5jb250cmlidXRpb25UeXBlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGVycm9ycy5wdXNoKCdBdCBsZWFzdCBvbmUgY29udHJpYnV0aW9uIHR5cGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgaWYgKCFib2R5LmNhdXNlcyB8fCBib2R5LmNhdXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGVycm9ycy5wdXNoKCdBdCBsZWFzdCBvbmUgY2F1c2UgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbU3VibWl0RXZlbnRdIFZhbGlkYXRpb24gZmFpbGVkOicsIGVycm9ycyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVmFsaWRhdGlvbiBmYWlsZWQnLCBkZXRhaWxzOiBlcnJvcnMgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIElEc1xuICAgIGNvbnN0IHN1Ym1pc3Npb25JZCA9IGdlbmVyYXRlU3VibWlzc2lvbklkKCk7XG4gICAgY29uc3Qgc2x1ZyA9IGdlbmVyYXRlU2x1Zyhib2R5LnRpdGxlKTtcblxuICAgIC8vIEdldCB3ZWJob29rIFVSTCBmcm9tIGVudmlyb25tZW50XG4gICAgY29uc3Qgd2ViaG9va1VybCA9IHByb2Nlc3MuZW52LkNPTlRFTlRTVEFDS19BVVRPTUFURV9FVkVOVF9XRUJIT09LO1xuXG4gICAgaWYgKCF3ZWJob29rVXJsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbU3VibWl0RXZlbnRdIENPTlRFTlRTVEFDS19BVVRPTUFURV9FVkVOVF9XRUJIT09LIG5vdCBjb25maWd1cmVkJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRXZlbnQgc3VibWlzc2lvbiBpcyBub3QgY29uZmlndXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEJ1aWxkIGZvcm1hdHRlZCBsb2NhdGlvbiBzdHJpbmcgZm9yIGVtYWlsXG4gICAgbGV0IGZvcm1hdHRlZExvY2F0aW9uID0gJ1ZpcnR1YWwgLyBPbmxpbmUnO1xuICAgIGlmICghYm9keS5pc1ZpcnR1YWwpIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9uUGFydHMgPSBbXG4gICAgICAgIHNhbml0aXplKGJvZHkuY2l0eSksXG4gICAgICAgIHNhbml0aXplKGJvZHkuc3RhdGUpLFxuICAgICAgICBzYW5pdGl6ZShib2R5LmNvdW50cnkpLFxuICAgICAgXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICBmb3JtYXR0ZWRMb2NhdGlvbiA9IGxvY2F0aW9uUGFydHMubGVuZ3RoID4gMCA/IGxvY2F0aW9uUGFydHMuam9pbignLCAnKSA6ICdMb2NhdGlvbiBub3Qgc3BlY2lmaWVkJztcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHBheWxvYWQgZm9yIEF1dG9tYXRlIChtYXRjaGVzIE9wcG9ydHVuaXR5IGNvbnRlbnQgdHlwZSlcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgc3VibWlzc2lvbklkLFxuICAgICAgc2x1ZyxcbiAgICAgIHRpdGxlOiBzYW5pdGl6ZShib2R5LnRpdGxlKSxcbiAgICAgIHN1bW1hcnk6IHNhbml0aXplKGJvZHkuc3VtbWFyeSksXG4gICAgICBkZXNjcmlwdGlvbjogc2FuaXRpemUoYm9keS5kZXNjcmlwdGlvbiksXG4gICAgICAvLyBDb3ZlciBJbWFnZVxuICAgICAgY292ZXJJbWFnZVVpZDogYm9keS5jb3ZlckltYWdlVWlkIHx8ICcnLFxuICAgICAgY292ZXJJbWFnZVVybDogYm9keS5jb3ZlckltYWdlVXJsIHx8ICcnLFxuICAgICAgLy8gTG9jYXRpb24gZmllbGRzIChpbmRpdmlkdWFsKVxuICAgICAgY291bnRyeTogc2FuaXRpemUoYm9keS5jb3VudHJ5KSxcbiAgICAgIHN0YXRlOiBzYW5pdGl6ZShib2R5LnN0YXRlKSxcbiAgICAgIGNpdHk6IHNhbml0aXplKGJvZHkuY2l0eSksXG4gICAgICBhZGRyZXNzOiBzYW5pdGl6ZShib2R5LmFkZHJlc3MpLFxuICAgICAgaXNWaXJ0dWFsOiBib2R5LmlzVmlydHVhbCB8fCBmYWxzZSxcbiAgICAgIC8vIEZvcm1hdHRlZCBsb2NhdGlvbiBmb3IgZW1haWxcbiAgICAgIGxvY2F0aW9uOiBmb3JtYXR0ZWRMb2NhdGlvbixcbiAgICAgIC8vIENhdGVnb3JpZXNcbiAgICAgIGNvbnRyaWJ1dGlvblR5cGVzOiBib2R5LmNvbnRyaWJ1dGlvblR5cGVzLFxuICAgICAgY2F1c2VTbHVnczogYm9keS5jYXVzZXMsXG4gICAgICAvLyBEYXRlICYgVGltZVxuICAgICAgc3RhcnREYXRlOiBib2R5LnN0YXJ0RGF0ZSxcbiAgICAgIGVuZERhdGU6IGJvZHkuZW5kRGF0ZSB8fCBib2R5LnN0YXJ0RGF0ZSxcbiAgICAgIHN0YXJ0VGltZTogYm9keS5zdGFydFRpbWUgfHwgJycsXG4gICAgICBlbmRUaW1lOiBib2R5LmVuZFRpbWUgfHwgJycsXG4gICAgICAvLyBPcmdhbml6ZXJcbiAgICAgIG9yZ2FuaXplckVtYWlsOiBzYW5pdGl6ZShib2R5Lm9yZ2FuaXplckVtYWlsKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgb3JnYW5pemVyTmFtZTogc2FuaXRpemUoYm9keS5vcmdhbml6ZXJOYW1lKSB8fCAnQ29tbXVuaXR5IE1lbWJlcicsXG4gICAgICAvLyBPdGhlclxuICAgICAgc3BvdHNBdmFpbGFibGU6IGJvZHkuc3BvdHNBdmFpbGFibGUgfHwgbnVsbCxcbiAgICAgIHJlcXVpcmVtZW50czogc2FuaXRpemUoYm9keS5yZXF1aXJlbWVudHMpLFxuICAgICAgLy8gTWV0YWRhdGFcbiAgICAgIHN1Ym1pdHRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcblxuICAgIC8vIEVuY29kZSBldmVudCBkYXRhIGZvciBhcHByb3ZhbCBVUkxzXG4gICAgY29uc3QgZXZlbnREYXRhRW5jb2RlZCA9IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgY29uc3QgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XG4gICAgXG4gICAgLy8gQWRkIGFwcHJvdmFsIFVSTHMgd2l0aCBlbmNvZGVkIGRhdGFcbiAgICAocGF5bG9hZCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuYXBwcm92ZVVybCA9IGAke2Jhc2VVcmx9L2FwaS9hcHByb3ZlLWV2ZW50P2FjdGlvbj1hcHByb3ZlJmRhdGE9JHtlbmNvZGVVUklDb21wb25lbnQoZXZlbnREYXRhRW5jb2RlZCl9YDtcbiAgICAocGF5bG9hZCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikucmVqZWN0VXJsID0gYCR7YmFzZVVybH0vYXBpL2FwcHJvdmUtZXZlbnQ/YWN0aW9uPXJlamVjdCZkYXRhPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGV2ZW50RGF0YUVuY29kZWQpfWA7XG5cbiAgICBjb25zb2xlLmxvZygnW1N1Ym1pdEV2ZW50XSBTZW5kaW5nIHRvIEF1dG9tYXRlOicsIHtcbiAgICAgIHN1Ym1pc3Npb25JZCxcbiAgICAgIHRpdGxlOiBwYXlsb2FkLnRpdGxlLFxuICAgICAgY2l0eTogcGF5bG9hZC5jaXR5LFxuICAgICAgY291bnRyeTogcGF5bG9hZC5jb3VudHJ5LFxuICAgICAgb3JnYW5pemVyRW1haWw6IHBheWxvYWQub3JnYW5pemVyRW1haWwsXG4gICAgfSk7XG5cbiAgICAvLyBTZW5kIHRvIENvbnRlbnRzdGFjayBBdXRvbWF0ZSB3ZWJob29rXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh3ZWJob29rVXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTdWJtaXRFdmVudF0gQXV0b21hdGUgd2ViaG9vayBmYWlsZWQ6JywgZXJyb3JUZXh0KTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gc3VibWl0IGV2ZW50IGZvciByZXZpZXcnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnW1N1Ym1pdEV2ZW50XSBTdWNjZXNzZnVsbHkgc2VudCB0byBBdXRvbWF0ZTonLCBzdWJtaXNzaW9uSWQpO1xuXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3NcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdFdmVudCBzdWJtaXR0ZWQgZm9yIHJldmlldyEgWW91IHdpbGwgcmVjZWl2ZSBhbiBlbWFpbCBvbmNlIGFwcHJvdmVkLicsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN1Ym1pc3Npb25JZCxcbiAgICAgICAgdGl0bGU6IHBheWxvYWQudGl0bGUsXG4gICAgICAgIG9yZ2FuaXplckVtYWlsOiBwYXlsb2FkLm9yZ2FuaXplckVtYWlsLFxuICAgICAgICBzdWJtaXR0ZWRBdDogcGF5bG9hZC5zdWJtaXR0ZWRBdCxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU3VibWl0RXZlbnRdIFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBHRVQgL2FwaS9zdWJtaXQtZXZlbnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgIHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQuIFVzZSBQT1NUIHRvIHN1Ym1pdCBhbiBldmVudC4nIH0sXG4gICAgeyBzdGF0dXM6IDQwNSB9XG4gICk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJ0ZXN0Iiwic2FuaXRpemUiLCJ2YWx1ZSIsInRyaW0iLCJzbGljZSIsImdlbmVyYXRlU3VibWlzc2lvbklkIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwicmFuZG9tIiwiTWF0aCIsInRvVXBwZXJDYXNlIiwiZ2VuZXJhdGVTbHVnIiwidGl0bGUiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJzdWJzdHJpbmciLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiY29uc29sZSIsImxvZyIsInN1bW1hcnlMZW5ndGgiLCJzdW1tYXJ5IiwibGVuZ3RoIiwiY291bnRyeSIsImNpdHkiLCJjYXVzZXMiLCJjb250cmlidXRpb25UeXBlcyIsInN0YXJ0RGF0ZSIsIm9yZ2FuaXplckVtYWlsIiwiaXNWaXJ0dWFsIiwiZSIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1cyIsImVycm9ycyIsInB1c2giLCJkZXRhaWxzIiwic3VibWlzc2lvbklkIiwic2x1ZyIsIndlYmhvb2tVcmwiLCJwcm9jZXNzIiwiZW52IiwiQ09OVEVOVFNUQUNLX0FVVE9NQVRFX0VWRU5UX1dFQkhPT0siLCJmb3JtYXR0ZWRMb2NhdGlvbiIsImxvY2F0aW9uUGFydHMiLCJzdGF0ZSIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwicGF5bG9hZCIsImRlc2NyaXB0aW9uIiwiY292ZXJJbWFnZVVpZCIsImNvdmVySW1hZ2VVcmwiLCJhZGRyZXNzIiwibG9jYXRpb24iLCJjYXVzZVNsdWdzIiwiZW5kRGF0ZSIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJvcmdhbml6ZXJOYW1lIiwic3BvdHNBdmFpbGFibGUiLCJyZXF1aXJlbWVudHMiLCJzdWJtaXR0ZWRBdCIsInRvSVNPU3RyaW5nIiwiZXZlbnREYXRhRW5jb2RlZCIsIkJ1ZmZlciIsImZyb20iLCJKU09OIiwic3RyaW5naWZ5IiwiYmFzZVVybCIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJhcHByb3ZlVXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVqZWN0VXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJtZXNzYWdlIiwiZGF0YSIsIkdFVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/submit-event/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-event%2Froute&page=%2Fapi%2Fsubmit-event%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-event%2Froute.ts&appDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaishnavi.kedar%2FDocuments%2FImpactConnect&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();